---
layout: post
title: "Albus Box開発日記 #4"
tags: [Albus Box, 開発日記, C/C++, OpenSiv3D]
thumbnail: "/assets/img/thumbnails/feature-img/221011.png"
excerpt_separator: <!--more-->
---

前回、「Albus Box ver.0.2.0は7月中には公開〜」とかほざいていたのにもう10月になっていました。卒研の中間発表やら院試やらでバタバタしており、気づいたら夏が終わっていました。お許しを。。  
やっと一段落ついたので、ほぼver.0.2.0が完成した状態のAlbus Boxについて記録しておきます。特に目新しい機能はありませんが、バグ修正やエラー処理の実装などを行いました。  
![スクリーンショット 2022-10-11 23.27.30](../../../assets/img/post/2022-10-11/スクリーンショット 2022-10-11 23.27.30.png)

<!--more-->  

# おさらい

間が空いてしまったので、まずはAlbus Box ver.0.2.0で追加される新機能をおさらい。  

## 歌詞表示機能

やはり目玉はこれ。歌詞ファイルを保存しておくと、該当の曲の再生中に歌詞が表示されます。  
![windows](../../../assets/img/post/2022-10-11/windows.png)

## 歌詞設定画面

上記の歌詞表示機能を利用するためには歌詞ファイルの作成が必要です。それを支援する機能。  
![lyrics](../../../assets/img/post/2022-10-11/lyrics.png)

# 今回やったこと

## バグ修正

細かいバグの修正ばかりなので、特筆すべきことはありませんが…  

- リストファイルを2度開くと歌詞が読み込めないバグ
- プレイリスト画面で曲を切り替え、戻るボタンを押したときにアクセス違反エラーが発生するバグ
- ウィンドウを閉じるときに例外発生するバグ（再現性は低く稀に発生）

などを修正しました。どれもメモリ関連のバグで、メモリ管理を見直すことで解決しました。

## ホームページの作成

Albus Box本体とは直接関係ありませんが、今まで仮設のままだったホームページをリニューアルしました。  
ver.0.2.0の公開と同時にこちらに置き換える予定です。    
![スクリーンショット 2022-10-11 23.32.32](../../../assets/img/post/2022-10-11/スクリーンショット 2022-10-11 23.32.32.png)

## Linuxのサポート

Linux版（UbuntuとFedoraで動作確認）を今回のバージョンからサポートします。  
ディストリビューションによって依存環境等が異なりますので、現状はダウンロード時に各自でビルドしていただく形になります。  
（Ubuntu版くらいはバイナリで配ってもいいかなと思ったのですが、実行ファイルが数百MBもあってGitHubにcommit&pushできないのです）  
Linux版でもMac版と同等の機能が利用可能です（ウィンドウ固定機能はWindows版のみ）。  
![playlist (1)](../../../assets/img/post/2022-10-11/playlist.png)

# 今後の予定

本体はもう完成しているのですが、ver.0.2.0からLinuxをサポートするにあたり、LinuxでのAlbus Boxのビルド手順をドキュメントとして残しておく必要性が出てきました。それが完成次第公開すると思います。
