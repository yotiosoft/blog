---
layout: post
title: "Raspberry Pi 5を購入しました"
tags: [Raspberry Pi, Ubuntu]
thumbnail: "/assets/img/thumbnails/feature-img/240324.jpg"
excerpt_separator: <!--more-->
---

![PXL_20240323_081628778.MP](../../../assets/img/post/2024-03-24-raspberry-pi-5/PXL_20240323_081628778.MP.webp)

今年2月に日本で発売されたばかりの Raspberry Pi 5 を先日購入し、昨日届きました。今回はその紹介記事です。使ってみた感想と、今度の運用プランについて軽く書いていきます。

<!--more-->

# 概要

製品情報（[販売元サイト](https://raspberry-pi.ksyic.com/main/index/pdp.sort/7/pdp.sortdesc/1){:target="_blank"}より）

- 製品名 : Raspberry Pi 5
  - SoC : Broadcom BCM2712
    - CPU :  Cortex-A76
    - GPU : VideoCore VII®

  - RAM : 8GB
  - 製造元：U.K. Sony

- Storage : micro SDXC 64GB (SanDisk, UHS-I U3)
- OS : Ubuntu 23.10 Desktop (AArch64)

OS は [Raspberry Pi Imager](https://www.raspberrypi.com/software/){:target="_blank"} で SD に書き出しました。Raspberry Pi OS や Ubuntu Server と迷いましたが、一番使い慣れている Ubuntu Desktop を選択しました。



ケースも別途購入しています。公式ケースで、おなじみの赤白カラーです。

![PXL_20240323_081930658](../../../assets/img/post/2024-03-24-raspberry-pi-5/PXL_20240323_081930658.webp)

![PXL_20240323_082102144](../../../assets/img/post/2024-03-24-raspberry-pi-5/PXL_20240323_082102144.webp)

ケースには冷却ファンとヒートシンクも付属しています。4 と比べて発熱量が増えたため、5 からは冷却ファンが必須となったようです。回転数は CPU 使用率と連動します。以前、借り物で使用していた Raspberry Pi 4 用の冷却ファンはキーンという甲高い音が鳴り響いていたのですが、5 のは静かです。夜眠れなくなるなんてこともありません。

![PXL_20240323_082755540](../../../assets/img/post/2024-03-24-raspberry-pi-5/PXL_20240323_082755540.webp)

電源は推奨は 5V/5A ですが、入手できなかったため 5V/3A のものを使用しています。この場合、USB ポートからの電流量に制限があるようです。

![PXL_20240323_085219242.MP](../../../assets/img/post/2024-03-24-raspberry-pi-5/PXL_20240323_085219242.MP.webp)

# 背景

購入の背景としては主に２つ。1つは「一台くらいは持っておきたいな」というロマン、もう1つはサーバ用の省電力なコンピュータが欲しかったことです。前々から欲しい欲しいと思ってなかなか手を出していなかったのですが、Raspberry Pi 5 の国内発売を機に思い切って購入しました。

# 今後の運用プラン

具体的には何サーバかというと、SSH サーバ、ファイルサーバ、VPN サーバの3つです。

## SSH サーバ

主に自宅の PC を遠隔で操作する用途で欲しかったのが SSH サーバです。

昨年12月に新しいデスクトップ PC を購入し、そこに Hyper-V で Ubuntu 環境を導入しました。これは研究用で、修論で作っているプログラムの開発・実行環境として用意しました。ただ、PC 自体は自宅にあるため、大学院の研究室からアクセスするには SSH やリモートデスクトップを利用しなければなりません。

では、Hyper-V 内の Ubuntu 環境に直接 SSH 接続すればよいではないかという話になりますが、もう1つ導入の理由があります。Wake-on-LAN です。

消費電力の大きい高性能 PC を自宅でずっとつけっぱなしにしておくのは少し心もとないです。火事になるかもしれませんし、電気代がばかになりません。自宅から研究室までも片道1時間以上かかりますので、その間つけっぱなしにしておくのはもったいない話です。そこで有用なのが、シャットダウン状態の PC を別の PC から起動させることができる Wake-on-LAN です。

Wake-on-LAN は LAN 内の他の機器の電源を入れるプロトコルです。ただ、これの厄介なところは、基本的にルータ越えができない点にあります。LAN の外、つまり WAN 側からマジックパケットを送出した場合、デフォルトではルータ側で破棄される場合が多いようです。ならばマジックパケットを通すように設定すればよいのかというと、Wake-on-LAN はブロードキャストする必要があり、ルータ側でポートフォワーディングできないという問題があります。

ですので、Wake-on-LAN を外から利用できるようにする一つの手段として、Wake-on-LAN の中継用の SSH サーバを立てるといった方法が用いられます。WAN のクライアントは SSH サーバに接続して、SSH サーバで Wake-on-LAN を実行します。SSH サーバ自体は LAN 内にありますので、普通に LAN 内でブロードキャストすればよいというわけです。

結局サーバのための電源が必要になりますが、消費電力の小さいサーバを選べば電気代なんて誤差みたいなものです。

## ファイルサーバ

ファイルサーバの利用用途としては、一昨年に購入した外付け HDD を複数のコンピュータから繋げられるようにしたいというのがあります。現在、外付け HDD は写真のバックアップや書類の保存などに使用しており、これは日常的に Windows のデスクトップ PC からも MacBook からもアクセスします。

外付け HDD は USB 接続ですので、複数の PC からアクセスするには繋ぎ直しが必要です。ただ面倒なのが、Windows PC と MacBook で USB の type が異なるという点です。前者は USB Type-A、後者は USB Type-C です。いちいちアダプタを繋いだり、ケーブルごと差し替える必要があります。また、もちろん外でアクセスしたい場合は持ち歩かなければなりません。

ですので、外付け HDD ごと Raspberry Pi を用いてファイルサーバ化してしまいます。こうすれば繋ぎ変える必要もなく、かつ外からもアクセス可能です。

## VPN サーバ

外からファイルサーバにアクセスするとき用に用意しようかなと思っています。

また、公衆 Wi-Fi に接続するときの安全なアクセス先や、外からルータの設定を弄りたいときにも有用かと思います。

# 感想

昨日届いたばかりなので、まだ一日使っただけの感想ですが、一言で言えばとても便利です。今のところ SSH サーバとファイルサーバのみ実現していますが、USB を抜き差しするストレスから解放されるだけでも買った価値はあるかと思います。

画面出力ですが、Ubuntu 23.10 Desktop をインストールした状態だと 4K ディスプレイに対しては若干力不足な感じはします。割とカクつきます。フル HD ディスプレイであれば使用上特に問題ありません。

今どきならサーバ用途であれば Raspberry Pi よりもミニ PC のほうがコスパがいいのかもしれませんが、そこはとりあえずはロマンで補いたいと思います。小さく省電力な基盤の上で Linux サーバが動いている様子を眺めるだけでもワクワクするというものです。せっかく組み込み用の GPIO も付属していますので、センサやらマイクやらディスプレイやらを接続して、Raspberry Pi ならではのこともやっていきたいですね。

環境導入の上でいくつか躓いた点もあったので、後日また別の記事に書きます。

